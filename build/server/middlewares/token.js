// Generated by CoffeeScript 1.8.0
var token;

token = "";

module.exports.init = (function(_this) {
  return function(current_token) {
    return token = current_token;
  };
})(this);

module.exports.check = (function(_this) {
  return function(req, res, next) {
    var auth;
    if (process.env.NODE_ENV === "production" || process.env.NODE_ENV === "test") {
      auth = req.headers['x-auth-token'];
      if (auth !== "undefined" && (auth != null)) {
        if (auth !== token) {
          return res.send(403, "Application is not authorized");
        } else {
          return next();
        }
      } else {
        return res.send(401, "Application is not authenticated");
      }
    } else {
      return next();
    }
  };
})(this);

module.exports.get = (function(_this) {
  return function() {
    return token;
  };
})(this);
