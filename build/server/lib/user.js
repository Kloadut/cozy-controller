// Generated by CoffeeScript 1.7.0
var path, spawn;

spawn = require('child_process').spawn;

path = require('path');


/*
    Create user cozy-<app>
        Use script adduser.sh
 */

module.exports.create = (function(_this) {
  return function(app, callback) {
    var appdir, child, env, user;
    env = {};
    user = env.USER = app.user;
    appdir = env.HOME = app.userDir;
    child = spawn('bash', [path.join(__dirname, '..', 'lib', 'adduser.sh')], {
      env: env
    });
    child.stderr.on('data', function(data) {
      return console.log(data.toString());
    });
    return child.on('exit', function(code) {
      if (code === 0) {
        return callback();
      } else {
        return callback(new Error('Unable to create user'));
      }
    });
  };
})(this);


/*
    Remove appplication user
 */

module.exports.remove = (function(_this) {
  return function(app, callback) {
    return callback();
  };
})(this);
